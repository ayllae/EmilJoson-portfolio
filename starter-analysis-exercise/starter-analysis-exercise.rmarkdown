---
title: "Data Analysis Introduction"
---
Disclaimer: ChatGPT was used to aid in R usage.

```{r}
library("dslabs")
library("tidyverse")
library("ggplot2")
library("gridExtra")

#creating an object from df:gapminder that only contains African countries
africadata <- gapminder %>%
    filter(region %in% c("Northern Africa", "Southern Africa", "Western Africa", "Eastern Africa", "Middle Africa"))

#creating an object from df:africadata that only contains infant_mortality and life_expectancy
africadata1 <- africadata %>%
    select(infant_mortality, life_expectancy)

#creating an object from df:africadata that only contains population and life_expectancy
africadata2 <- africadata %>%
    select(population, life_expectancy)

#plotting life_expectancy as a function of infant_mortality using df:africadata1
P1 <- ggplot(africadata1, aes(x=infant_mortality, y=life_expectancy))+
    geom_point()+
    theme_bw()

#plotting life_expectancy as a function of population using df:africadata2
P2 <- ggplot(africadata2, aes(x=population, y=life_expectancy))+
    geom_point()+
    theme_bw()

grid.arrange(P1, P2, ncol=2)

#checking which years have missing data on infant_mortality
aggregate(is.na(infant_mortality) ~ year, data=africadata, sum)

#creating an object from df:africadata that only contains data from year 2000
africadata2000 <- africadata[africadata$year==2000,]

#creating an object from df:africadata2000 that only contains infant_mortality and life_expectancy
africadata3 <- africadata2000 %>%
    select(infant_mortality, life_expectancy)

#creating an object from df:africadata2000 that only contains population and life_expectancy
africadata4 <- africadata2000 %>%
    select(population, life_expectancy)

#plotting life_expectancy as a function of infant_mortality using df:africadata3
P3 <- ggplot(africadata3, aes(x=infant_mortality, y=life_expectancy))+
    geom_point()+
    theme_bw()

#plotting life_expectancy as a function of population using df:africadata4
P4 <- ggplot(africadata4, aes(x=population, y=life_expectancy))+
    geom_point()+
    theme_bw()

grid.arrange(P3, P4, ncol=2)

#using the lm function to fit life expectancy as the outcome and infant mortality as the predictor using df:africadata3
fit1 <- lm(life_expectancy ~ infant_mortality, data=africadata3)
summary(fit1)
#Infant mortality was strongly negatively associated with life expectancy (-0.19, p=2.83e-08). If infant mortality = 0, the average life expectancy would be 71.3 years. For each unit increase in infant mortality, the model assumes life expectancy to go down by 0.19 years (~2.4 months).

#using the lm function to fit life expectancy as the outcome and population as the predictor using df:africadata4
fit2 <- lm(life_expectancy ~ population, data=africadata4)
summary(fit2) 
#Population size was not associated with life expectancy (2.756e-08, p=0.616). Unlike infant mortality, population size only explained ~0.5% (Multiple R-squared) of the variation in life expectancy.


```


